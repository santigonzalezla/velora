import{u as e,c as t,a as n,b as r,t as s,T as a,d as l}from"./hasClass-f0770c29.js";import{r as o,j as u}from"./index-d41c4a55.js";import{u as c,a as i}from"./Nav-927c82b9.js";import{A as d}from"./Anchor-98c498de.js";import{c as f,u as m,a as v}from"./ThemeProvider-2f4e3b9b.js";import{f as p,m as h}from"./Form-ad21bd55.js";var x=Math.pow(2,31)-1;function N(e,t,n){var r=n-Date.now();e.current=r<=x?setTimeout(t,r):setTimeout((function(){return N(e,t,n)}),x)}function b(){var t=e(),n=o.useRef();return c((function(){return clearTimeout(n.current)})),o.useMemo((function(){var e=function(){return clearTimeout(n.current)};return{set:function(r,s){void 0===s&&(s=0),t()&&(e(),s<=x?n.current=setTimeout(r,s):N(n,r,Date.now()+s))},clear:e}}),[])}const j=t("carousel-caption"),C=o.forwardRef((({as:e="div",bsPrefix:t,className:n,...r},s)=>{const a=f(n,m(t,"carousel-item"));return u.jsx(e,{ref:s,...r,className:a})}));C.displayName="CarouselItem";const y=C;const g=o.forwardRef((({defaultActiveIndex:e=0,...t},c)=>{const{as:x="div",bsPrefix:N,slide:j=!0,fade:C=!1,controls:y=!0,indicators:g=!0,indicatorLabels:k=[],activeIndex:S,onSelect:w,onSlide:T,onSlid:$,interval:E=5e3,keyboard:I=!0,onKeyDown:M,pause:R="hover",onMouseOver:A,onMouseOut:D,wrap:L=!0,touch:O=!0,onTouchStart:P,onTouchMove:F,onTouchEnd:K,prevIcon:X=u.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:z="Previous",nextIcon:H=u.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:q="Next",variant:B,className:G,children:J,...Q}=i({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),U=m(N,"carousel"),V=v(),W=o.useRef(null),[Y,Z]=o.useState("next"),[_,ee]=o.useState(!1),[te,ne]=o.useState(!1),[re,se]=o.useState(S||0);o.useEffect((()=>{te||S===re||(W.current?Z(W.current):Z((S||0)>re?"next":"prev"),j&&ne(!0),se(S||0))}),[S,te,re,j]),o.useEffect((()=>{W.current&&(W.current=null)}));let ae,le=0;p(J,((e,t)=>{++le,t===S&&(ae=e.props.interval)}));const oe=n(ae),ue=o.useCallback((e=>{if(te)return;let t=re-1;if(t<0){if(!L)return;t=le-1}W.current="prev",null==w||w(t,e)}),[te,re,w,L,le]),ce=r((e=>{if(te)return;let t=re+1;if(t>=le){if(!L)return;t=0}W.current="next",null==w||w(t,e)})),ie=o.useRef();o.useImperativeHandle(c,(()=>({element:ie.current,prev:ue,next:ce})));const de=r((()=>{!document.hidden&&function(e){if(!(e&&e.style&&e.parentNode&&e.parentNode.style))return!1;const t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ie.current)&&(V?ue():ce())})),fe="next"===Y?"start":"end";var me,ve,pe;me=()=>{j||(null==T||T(re,fe),null==$||$(re,fe))},ve=[re],pe=o.useRef(!0),o.useEffect((function(){if(!pe.current)return me();pe.current=!1}),ve);const he=`${U}-item-${Y}`,xe=`${U}-item-${fe}`,Ne=o.useCallback((e=>{s(e),null==T||T(re,fe)}),[T,re,fe]),be=o.useCallback((()=>{ne(!1),null==$||$(re,fe)}),[$,re,fe]),je=o.useCallback((e=>{if(I&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(V?ce(e):ue(e));case"ArrowRight":return e.preventDefault(),void(V?ue(e):ce(e))}null==M||M(e)}),[I,M,ue,ce,V]),Ce=o.useCallback((e=>{"hover"===R&&ee(!0),null==A||A(e)}),[R,A]),ye=o.useCallback((e=>{ee(!1),null==D||D(e)}),[D]),ge=o.useRef(0),ke=o.useRef(0),Se=b(),we=o.useCallback((e=>{ge.current=e.touches[0].clientX,ke.current=0,"hover"===R&&ee(!0),null==P||P(e)}),[R,P]),Te=o.useCallback((e=>{e.touches&&e.touches.length>1?ke.current=0:ke.current=e.touches[0].clientX-ge.current,null==F||F(e)}),[F]),$e=o.useCallback((e=>{if(O){const t=ke.current;Math.abs(t)>40&&(t>0?ue(e):ce(e))}"hover"===R&&Se.set((()=>{ee(!1)}),E||void 0),null==K||K(e)}),[O,R,ue,ce,Se,E,K]),Ee=null!=E&&!_&&!te,Ie=o.useRef();o.useEffect((()=>{var e,t;if(!Ee)return;const n=V?ue:ce;return Ie.current=window.setInterval(document.visibilityState?de:n,null!=(e=null!=(t=oe.current)?t:E)?e:void 0),()=>{null!==Ie.current&&clearInterval(Ie.current)}}),[Ee,ue,ce,oe,E,de,V]);const Me=o.useMemo((()=>g&&Array.from({length:le},((e,t)=>e=>{null==w||w(t,e)}))),[g,le,w]);return u.jsxs(x,{ref:ie,...Q,onKeyDown:je,onMouseOver:Ce,onMouseOut:ye,onTouchStart:we,onTouchMove:Te,onTouchEnd:$e,className:f(G,U,j&&"slide",C&&`${U}-fade`,B&&`${U}-${B}`),children:[g&&u.jsx("div",{className:`${U}-indicators`,children:h(J,((e,t)=>u.jsx("button",{type:"button","data-bs-target":"","aria-label":null!=k&&k.length?k[t]:`Slide ${t+1}`,className:t===re?"active":void 0,onClick:Me?Me[t]:void 0,"aria-current":t===re},t)))}),u.jsx("div",{className:`${U}-inner`,children:h(J,((e,t)=>{const n=t===re;return j?u.jsx(a,{in:n,onEnter:n?Ne:void 0,onEntered:n?be:void 0,addEndListener:l,children:(t,r)=>o.cloneElement(e,{...r,className:f(e.props.className,n&&"entered"!==t&&he,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&xe)})}):o.cloneElement(e,{className:f(e.props.className,n&&"active")})}))}),y&&u.jsxs(u.Fragment,{children:[(L||0!==S)&&u.jsxs(d,{className:`${U}-control-prev`,onClick:ue,children:[X,z&&u.jsx("span",{className:"visually-hidden",children:z})]}),(L||S!==le-1)&&u.jsxs(d,{className:`${U}-control-next`,onClick:ce,children:[H,q&&u.jsx("span",{className:"visually-hidden",children:q})]})]})]})}));g.displayName="Carousel";const k=Object.assign(g,{Caption:j,Item:y});export{k as C};
